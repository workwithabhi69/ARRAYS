#include <iostream>
#include <cmath>
using namespace std;

int nextGap(int gap) {
    if (gap <= 1) return 0;
    return (gap / 2) + (gap % 2);
}

int main() {
    int n, m;
    cin >> n >> m;

    int a[n], b[m];
    for (int i = 0; i < n; i++)
        cin >> a[i];
    for (int i = 0; i < m; i++)
        cin >> b[i];

    int gap = n + m;
    for (gap = nextGap(gap); gap > 0; gap = nextGap(gap)) {
        for (int i = 0; i + gap < n; i++)
            if (a[i] > a[i + gap])
                swap(a[i], a[i + gap]);

        for (int i = (gap > n ? gap - n : 0); i < m && i + n - gap < n; i++)
            if (a[i + n - gap] > b[i])
                swap(a[i + n - gap], b[i]);

        if (gap < m)
            for (int i = 0; i + gap < m; i++)
                if (b[i] > b[i + gap])
                    swap(b[i], b[i + gap]);
    }

    for (int i = 0; i < n; i++)
        cout << a[i] << " ";
    for (int i = 0; i < m; i++)
        cou
